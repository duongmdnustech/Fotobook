<% content_for :head do %>
  <%= stylesheet_link_tag "definition", "data-turbo-track": "reload" %>
  <%= stylesheet_link_tag "signup", "data-turbo-track": "reload" %>
<% end %>
<%= render "users/shared/header", page: "login" %>

<main>
  <h1>Fotobook Login</h1>
  <div class="container" id="icon-3rd">
    <%=  render "users/shared/icon_group" %>
  </div>
  <%= form_for(resource, as: resource_name, url: session_path(resource_name), class: "log-form") do |f| %>
    <div class="field mb-2">
      <p><%= f.label :email, class: "form-label" %></p>
      <p><%= f.email_field :email, autofocus: true, required: true, autocomplete: "email", class: "form-control" %></p>
      <div class="text-danger d-flex gap-1 text-error">
        <% if resource.errors[:email].any? %>
          *
          <%= resource.errors[:email].join(",") %>
        <% end %>
      </div>
    </div>

    <div class="field">
      <p><%= f.label :password, class: "form-label" %></p>
      <p><%= f.password_field :password, required: true, autocomplete: "current-password", class: "form-control" %></p>
      <div class="text-danger d-flex gap-1 text-error"> 
        <% if resource.errors[:password].any? %>
          *
          <%= resource.errors[:password].join(",") %>
        <% end %>
      </div>
    </div>

    <% if devise_mapping.rememberable? %>
      <div class="field mb-3 d-flex gap-2">
        <p><%= f.check_box :remember_me %></p>
        <p><%= f.label :remember_me %></p>
      </div>
    <% end %>

    <%= f.submit "Log in", class: "btn btn-primary w-50 align-self-center mb-2" %>
    <div class="text-danger d-flex gap-1 text-error"> 
      <% if resource.errors.any? %>
        *
        <%= resource.errors.full_messages.join(",") %>
      <% end %>
    </div>
    <div class="align-self-center">
      <div><%= link_to "Forgot your password?", new_password_path(resource_name) %></div>
    </div>
  <% end %>
    <div class="d-flex gap-2 align-self-center mt-2">
    You haven't had an account yet? 
    <%= link_to "Create new account", new_registration_path(resource_name), class: "text-decoration-none" %>
  </div>
</main>
